# üìä  –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus –∏ Grafana

–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –≤—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ –±–∞–∑–µ **Prometheus** –∏ **Grafana**, –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –≤–∞–∂–Ω—ã, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ **pull-–º–æ–¥–µ–ª–∏**: —Å–µ—Ä–≤–µ—Ä Prometheus —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç (¬´scrape¬ª) —Ü–µ–ª–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –±–∞–∑–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤.

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **Prometheus** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å–±–æ—Ä–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫.
- **–≠–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `node_exporter`) ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã, –≤—ã—Å—Ç–∞–≤–ª—è—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ HTTP.
- **Grafana** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–¥–∫–ª—é—á–∞—é—â–∏–π—Å—è –∫ Prometheus –∫–∞–∫ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –¥–∞–Ω–Ω—ã—Ö.
- **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Alertmanager** ‚Äî —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤.

<p style="color: green;">üü¢ –¢–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞, –Ω–∞–¥—ë–∂–Ω–∞ –∏ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ª—é–±—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º–∏ —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫.</p>

---

## üìà –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ

–í–æ—Ç –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `node_exporter`:

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø |
|--------|----------|------|
| `up` | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ü–µ–ª–µ–≤–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞ (`1` ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç, `0` ‚Äî –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω) | Gauge |
| `node_cpu_seconds_total` | –ù–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU –ø–æ —Ä–µ–∂–∏–º–∞–º (user, system –∏ –¥—Ä.) | Counter |
| `node_memory_MemAvailable_bytes` | –û–±—ä—ë–º **–¥–æ—Å—Ç—É–ø–Ω–æ–π** –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ | Gauge |
| `node_filesystem_avail_bytes` | –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ | Gauge |
| `node_network_receive_bytes_total` | –û–±—â–∏–π –æ–±—ä—ë–º –ø—Ä–∏–Ω—è—Ç—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö | Counter |

> üí° **–í–∞–∂–Ω–æ**: Prometheus –Ω–µ ¬´—Ç–æ–ª–∫–∞–µ—Ç¬ª –¥–∞–Ω–Ω—ã–µ ‚Äî –æ–Ω —Å–∞–º –∑–∞–±–∏—Ä–∞–µ—Ç –∏—Ö —Å –∑–∞–¥–∞–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥).

---
## üñ•Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é Grafana

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Grafana** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Docker):  
   ```bash
   docker run -d -p 3000:3000 grafana/grafana
---
**–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
http://localhost:3000  

**–í–æ–π–¥–∏—Ç–µ —Å –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**   

    –õ–æ–≥–∏–Ω: admin  
    –ü–∞—Ä–æ–ª—å: admin
     

**–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Configuration ‚Üí Data Sources ‚Üí Add data source** 

**–í—ã–±–µ—Ä–∏—Ç–µ Prometheus –∏ —É–∫–∞–∂–∏—Ç–µ URL:**  
http://localhost:9090
 
 

**–ù–∞–∂–º–∏—Ç–µ Save & Test**

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Prometheus

–§–∞–π–ª `prometheus.yml` –∑–∞–¥–∞—ë—Ç, –∫–∞–∫–∏–µ —Ü–µ–ª–∏ –æ–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏ —Å –∫–∞–∫–æ–π —á–∞—Å—Ç–æ—Ç–æ–π:

```yaml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'node'
    static_configs:
      - targets: ['localhost:9100']

  - job_name: 'my_web_app'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['localhost:8080']
